language: cpp
dist: bionic
matrix:
  include:
    - name: "GCC Test"
      os: linux
      addons:
        apt:
          packages:
            - gcc
      env:
        - CC = 'gcc'
        - CXX = 'g++'
        - GCOV = 'gcov'
        - MAKEFLAGS = '-j 2'
        - TRAVIS_JOB_NAME = 'GCC Test'
    - name: "Clang Test"
      os: linux
      addons:
        apt:
          packages:
            - clang
            - llvm
      env:
        - CC = 'clang'
        - CXX = 'clang++'
        - GCOV = 'llvm-cov gcov'
        - MAKEFLAGS = '-j 2'
        - TRAVIS_JOB_NAME = 'Clang Test'

install:
  - ./depends/setup.sh
script:
  - ./test/all.sh
